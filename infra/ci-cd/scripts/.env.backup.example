# ═════════════════════════════════════════════════════════════════════════════
# BACKUP & ROLLBACK ENVIRONMENT VARIABLES
# ═════════════════════════════════════════════════════════════════════════════
# Copy this file to .env.backup and configure for your environment
# Source it before running backup/rollback scripts: source .env.backup
# ═════════════════════════════════════════════════════════════════════════════

# === BACKUP CONFIGURATION ===

# Base directory for all backups (default: ./backups)
BACKUP_DIR=/opt/atlasia/backups

# Database container name (auto-detected if not set)
# Production: aiteam_db_prod
# Development: ai-db
DB_CONTAINER=aiteam_db_prod

# Database name (auto-detected if not set)
DB_NAME=aiteam_prod

# Database user (auto-detected if not set)
DB_USER=aiteam_prod_user

# Optional: S3 bucket for remote backup storage
# Requires AWS CLI configured with appropriate credentials
S3_BUCKET=my-backup-bucket

# === ROLLBACK CONFIGURATION ===

# Specific Docker image tag to rollback to (default: uses deployment history)
# Example: v1.2.3, sha-abc1234, previous
ROLLBACK_TAG=

# GitHub repository for GHCR images (required for image pull)
# Format: organization/repository
GITHUB_REPO=myorg/atlasia

# === CRON BACKUP CONFIGURATION ===

# Deployment directory (for cron script)
DEPLOY_DIR=/opt/atlasia

# Healthcheck.io URL to ping on successful backup
# Sign up at https://healthchecks.io/
HEALTHCHECK_URL=https://hc-ping.com/your-unique-id

# Admin email for backup notifications (requires mail command)
ADMIN_EMAIL=admin@example.com

# Log file for cron backup output
LOG_FILE=/var/log/atlasia-backup.log

# === DEPLOYMENT CONFIGURATION ===

# These are used by deploy-prod.sh and should match your production setup
DEPLOY_HOST=prod-server.example.com
DEPLOY_USER=deploy
DB_PASSWORD=your-secure-password
ORCHESTRATOR_TOKEN=your-orchestrator-token
LLM_API_KEY=your-llm-api-key
DOMAIN=api.example.com
GIT_REPO=https://github.com/myorg/atlasia.git

# === EXAMPLE USAGE ===
#
# 1. Copy this file:
#    cp .env.backup.example .env.backup
#
# 2. Edit with your values:
#    nano .env.backup
#
# 3. Source before running scripts:
#    source .env.backup
#    ./backup.sh prod
#
# 4. Or use inline:
#    S3_BUCKET=my-bucket ./backup.sh prod
#    ROLLBACK_TAG=v1.2.3 ./rollback.sh prod
