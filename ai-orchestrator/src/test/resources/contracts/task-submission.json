{
  "description": "Contract for A2A task submission endpoint",
  "request": {
    "method": "POST",
    "url": "/api/a2a/tasks",
    "headers": {
      "Authorization": "Bearer github-token",
      "Content-Type": "application/json"
    },
    "body": {
      "repo": "owner/repository",
      "issueNumber": 42,
      "mode": "code"
    },
    "matchers": {
      "body": [
        {
          "path": "$.repo",
          "type": "by_regex",
          "value": "[a-zA-Z0-9\\-_]+/[a-zA-Z0-9\\-_]+"
        },
        {
          "path": "$.issueNumber",
          "type": "by_type"
        },
        {
          "path": "$.mode",
          "type": "by_regex",
          "value": "code|chat"
        }
      ]
    }
  },
  "response": {
    "status": 202,
    "headers": {
      "Content-Type": "application/json"
    },
    "body": {
      "taskId": "550e8400-e29b-41d4-a716-446655440000",
      "status": "submitted",
      "repo": "owner/repository",
      "issueNumber": 42,
      "createdAt": "2024-01-15T10:30:00Z"
    },
    "matchers": {
      "body": [
        {
          "path": "$.taskId",
          "type": "by_regex",
          "value": "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
        },
        {
          "path": "$.status",
          "type": "by_regex",
          "value": "submitted"
        },
        {
          "path": "$.repo",
          "type": "by_equality"
        },
        {
          "path": "$.issueNumber",
          "type": "by_equality"
        },
        {
          "path": "$.createdAt",
          "type": "by_regex",
          "value": "[0-9]{4}-[0-9]{2}-[0-9]{2}T[0-9]{2}:[0-9]{2}:[0-9]{2}(\\.[0-9]+)?Z?"
        }
      ]
    }
  }
}
